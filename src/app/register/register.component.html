<div class="register-container">
  <div class="register-card">
    <h2>Create Account</h2>
    <p>Join the Multi-Department Reporting Tool</p>
    
    <form class="register-form" (ngSubmit)="onSubmit()" #registerFormRef="ngForm">
      <div class="form-row">
        <div class="form-group">
          <label for="username">Username:</label>
          <input 
            type="text" 
            id="username" 
            name="username" 
            [(ngModel)]="registerForm.username"
            required
            placeholder="Enter your username">
        </div>
        
        <div class="form-group">
          <label for="email">Email:</label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            [(ngModel)]="registerForm.email"
            required
            placeholder="Enter your email">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="password">Password:</label>
          <input 
            type="password" 
            id="password" 
            name="password" 
            [(ngModel)]="registerForm.password"
            required
            placeholder="Enter your password">
        </div>
        
        <div class="form-group">
          <label for="confirmPassword">Confirm Password:</label>
          <input 
            type="password" 
            id="confirmPassword" 
            name="confirmPassword" 
            [(ngModel)]="confirmPassword"
            required
            placeholder="Confirm your password">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="role">Role:</label>
          <select 
            id="role" 
            name="role" 
            [(ngModel)]="registerForm.role"
            (change)="onRoleChange()"
            required>
            <option value="">Select your role</option>
            <option value="admin">Admin</option>
            <option value="department-lead">Department Lead</option>
            <option value="executive">Executive</option>
            <option value="staff">Staff User</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="department">Department:</label>
          <select 
            id="department" 
            name="department" 
            [(ngModel)]="registerForm.department"
            required
            [disabled]="!registerForm.role">
            <option value="">Select department</option>
            <option *ngFor="let dept of getDepartmentOptions()" [value]="dept">
              {{ dept }}
            </option>
          </select>
        </div>
      </div>

      <div class="form-group" *ngIf="error">
        <div class="error-message">{{ error }}</div>
      </div>

      <div class="form-group" *ngIf="success">
        <div class="success-message">{{ success }}</div>
      </div>
      
      <button 
        type="submit" 
        class="register-btn"
        [disabled]="isLoading || !registerFormRef.form.valid">
        {{ isLoading ? 'Creating Account...' : 'Create Account' }}
      </button>
    </form>

    <div class="login-link">
      <p>Already have an account? 
        <button type="button" class="link-btn" (click)="goToLogin()">
          Sign in here
        </button>
      </p>
    </div>
  </div>
</div>
